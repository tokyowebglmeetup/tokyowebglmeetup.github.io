!function(){"use strict";var e,o,n,t,a=320,i=250,r=document.querySelector(".TWM2-pageHeader__logo"),s=window.innerWidth,E=3>s/i?120:i,d={},l=new THREE.Vector3(0,2,20),c=function(){var t,a;o=new THREE.Scene,o.fog=new THREE.FogExp2(70429,.06),e=new THREE.PerspectiveCamera(40,s/E,1,100),n=new THREE.WebGLRenderer({antialias:!0}),n.setSize(s,E),n.setClearColor(70429,1),n.autoClear=!1,r.removeChild(r.querySelector("img")),r.appendChild(n.domElement),t=new THREE.AmbientLight(6710886),o.add(t),a=new THREE.DirectionalLight(16777215),a.position.set(0,10,20),a.target.position.set(0,0,0),o.add(a)},m=function(){var t=new THREE.EffectComposer(n),a=new THREE.RenderPass(o,e),i=new THREE.BokehPass(o,e,{focus:1,aperture:.025,maxblur:1,width:s,height:E});i.renderToScreen=!0,t.addPass(a),t.addPass(i),d.composer=t,d.bokeh=i},h=function(){var o=window.pageYOffset;o>E||(e.position.y=l.y-o/150)},w=function(o){var n=o.clientX/s*2-1;e.position.x=3*n,e.position.z=-Math.abs(n*n),e.lookAt(new THREE.Vector3(0,e.position.y,-10))},p=function(){s!=window.innerWidth&&(s=Math.max(a,window.innerWidth),E=3>s/i?120:i,n.setSize(s,E),d.composer.setSize(s,E),d.bokeh.uniforms.aspect.value=e.aspect,e.aspect=s/E,e.updateProjectionMatrix())},g=function(){requestAnimationFrame(g),p(),t&&(t.rotation.x+=3e-4,t.rotation.y+=4e-4,t.rotation.z+=5e-4),d.composer.render(.1)},u=function(){var e,n=0,a=new THREE.Geometry,i=50,r=1,s=new THREE.Matrix4,E=new THREE.MeshBasicMaterial({color:775127});for(n=0;1e3>n;n++)s.set(1,0,0,Math.random()*i-i/2,0,1,0,Math.random()*i-i/2,0,0,1,Math.random()*i-i/2,0,0,0,1),r=1*Math.random(),e=new THREE.BoxGeometry(r,r,r),e.applyMatrix(s),a.merge(e);t=new THREE.Mesh(a,E),o.add(t)},T=function(){var e,n=new THREE.JSONLoader;n.load("./assets/models/logo/webgl.js",function(n,t){t[0]=new THREE.MeshPhongMaterial({color:11075584,specular:16777215,emissive:0,shininess:100,ambient:0}),e=new THREE.Mesh(n,new THREE.MeshFaceMaterial(t)),e.rotation.x=THREE.Math.degToRad(90),e.position.set(-4,1.5,-8),e.scale.set(3,3,3),o.add(e)})},R=function(e){var n,t,a,i,r,s,e=e,E=.5,d=0,l=new THREE.Geometry,c=[];for(n=0,t=e.length;t>n;n++){r=new THREE.TextGeometry(e[n],{size:E,height:.1*E,curveSegments:4,font:"gentilis",weight:"bold",style:"normal",bevelThickness:.05*E,bevelSize:.025*E,bevelEnabled:!0,material:0,extrudeMaterial:1});for(var a=0,i=r.vertices.length;i>a;a++)r.vertices[a].y+=d;r.computeBoundingBox(),r.computeVertexNormals(),l.merge(r),c.push(new THREE.MeshPhongMaterial({color:13421772,specular:16777215,emissive:0,shininess:100,ambient:0,shading:THREE.FlatShading})),c.push(new THREE.MeshPhongMaterial({color:13421772,specular:16777215,emissive:0,shininess:100,ambient:0,shading:THREE.SmoothShading})),d+=r.boundingBox.max.y}l.computeBoundingBox(),l.computeVertexNormals(),s=new THREE.Mesh(l,new THREE.MeshFaceMaterial(c)),s.position.y=-r.boundingBox.max.y/2,s.scale.set(3,3,3),s.position.set(0,.2,-8),o.add(s)};c(),m(),h(),u(),T(),R(["MEETUP","TOKYO"]),g(),window.addEventListener("scroll",h),window.addEventListener("mousemove",w)}(),function(){{var e=new google.maps.LatLng(35.656681,139.78214),o={center:e,zoom:17,draggable:!1,scrollwheel:!1,panControl:!1},n=new google.maps.Map(document.getElementById("TWM2-map"),o);new google.maps.Marker({position:e,map:n})}}();
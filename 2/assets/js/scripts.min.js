!function(){function e(){var e=window.pageYOffset;t.height<e||(t.camera.position.y=t.defaultCameraPosition.y-e/150,t.needUpdate=!0)}function n(){var e=new THREE.RenderPass(t.scene,t.camera),n=new THREE.BokehPass(t.scene,t.camera,{focus:1,aperture:.025,maxblur:1,width:t.width,height:t.height});n.renderToScreen=!0;var o=new THREE.EffectComposer(t.renderer);o.addPass(e),o.addPass(n),t.postprocessing.composer=o,t.postprocessing.bokeh=n}window.TWM2=window.TWM2||{},TWM2.header3d={};var t=TWM2.header3d,o=320;t.el=document.querySelector(".TWM2-pageHeader__logo"),t.width=Math.max(o,window.innerWidth),t.height=250,t.needUpdate=!1,t.defaultCameraPosition=new THREE.Vector3(0,2,20);var a;t.init=function(){var o,a;t.scene=new THREE.Scene,t.scene.fog=new THREE.FogExp2(70429,.06),t.camera=new THREE.PerspectiveCamera(40,t.width/t.height,1,100),e(),t.renderer=new THREE.WebGLRenderer({antialias:!0}),t.renderer.setSize(t.width,t.height),t.renderer.setPixelRatio(window.devicePixelRatio),t.renderer.setClearColor(70429,1),t.renderer.autoClear=!1,t.renderer.shadowMapEnabled=!0,t.renderer.shadowMapSoft=!0,t.el.removeChild(t.el.querySelector("img")),t.el.appendChild(t.renderer.domElement),t.postprocessing={},n(),o=new THREE.AmbientLight(6710886),t.scene.add(o),a=new THREE.DirectionalLight(16777215),a.position.set(0,10,20),a.target.position.set(0,0,0),t.scene.add(a),window.addEventListener("scroll",e),window.addEventListener("mousemove",function(e){var n=e.clientX/t.width*2-1;t.camera.position.x=3*n,t.camera.position.z=-Math.abs(n*n),t.camera.lookAt(new THREE.Vector3(0,t.camera.position.y,-10)),t.needUpdate=!0})},t.renderLoop=function(){requestAnimationFrame(t.renderLoop),t.checkWindowConditions(),a&&(a.rotation.x+=3e-4,a.rotation.y+=4e-4,a.rotation.z+=5e-4),t.needUpdate=!1,t.postprocessing.composer.render(.1)},t.checkWindowConditions=function(){t.width!=window.innerWidth&&(t.width=Math.max(o,window.innerWidth),t.renderer.setSize(t.width,t.height),t.camera.aspect=t.width/t.height,t.camera.updateProjectionMatrix(),t.needUpdate=!0)},t.Cubes=function(){THREE.EventDispatcher.prototype.apply(this);var e,n=0,o=new THREE.Geometry,i=50,r=1,s=new THREE.Matrix4,d=new THREE.MeshBasicMaterial({color:775127});for(n=0;1e3>n;n++)s.set(1,0,0,Math.random()*i-i/2,0,1,0,Math.random()*i-i/2,0,0,1,Math.random()*i-i/2,0,0,0,1),r=1*Math.random(),e=new THREE.BoxGeometry(r,r,r),e.applyMatrix(s),o.merge(e);a=new THREE.Mesh(o,d),t.scene.add(a),t.needUpdate=!0},t.Logo=function(){var e=this,n=new THREE.JSONLoader;n.load("./assets/models/logo/webgl.js",function(n,o){console.log(n,o),o[0]=new THREE.MeshPhongMaterial({color:11075584,specular:16777215,emissive:0,shininess:100,ambient:0}),e.mesh=new THREE.Mesh(n,new THREE.MeshFaceMaterial(o)),e.mesh.rotation.x=THREE.Math.degToRad(90),e.mesh.position.set(-4,1.5,-8),e.mesh.scale.set(3,3,3),t.scene.add(e.mesh),t.needUpdate=!0})},t.Text=function(e){THREE.EventDispatcher.prototype.apply(this);var n,o,a,i,r,e=e,s=.5,d=0,h=new THREE.Geometry,c=[];for(n=0,o=e.length;o>n;n++){r=new THREE.TextGeometry(e[n],{size:s,height:.1*s,curveSegments:4,font:"gentilis",weight:"bold",style:"normal",bevelThickness:.05*s,bevelSize:.025*s,bevelEnabled:!0,material:0,extrudeMaterial:1});for(var a=0,i=r.vertices.length;i>a;a++)r.vertices[a].y+=d;r.computeBoundingBox(),r.computeVertexNormals(),h.merge(r),c.push(new THREE.MeshPhongMaterial({color:13421772,specular:16777215,emissive:0,shininess:100,ambient:0,shading:THREE.FlatShading})),c.push(new THREE.MeshPhongMaterial({color:13421772,specular:16777215,emissive:0,shininess:100,ambient:0,shading:THREE.SmoothShading})),d+=r.boundingBox.max.y}h.computeBoundingBox(),h.computeVertexNormals(),this.mesh=new THREE.Mesh(h,new THREE.MeshFaceMaterial(c)),this.mesh.traverse(function(e){e.castShadow=!0,e.receiveShadow=!1}),this.mesh.position.y=-r.boundingBox.max.y/2,this.mesh.scale.set(3,3,3),this.mesh.position.set(0,.2,-8),t.scene.add(this.mesh),t.needUpdate=!0},TWM2.header3d.init(),TWM2.header3d.renderLoop(),_cubes=new TWM2.header3d.Cubes;new TWM2.header3d.Logo,new TWM2.header3d.Text(["MEETUP","TOKYO"])}(),function(){{var e=new google.maps.LatLng(35.656681,139.78214),n={center:e,zoom:17,draggable:!1,scrollwheel:!1,panControl:!1},t=new google.maps.Map(document.getElementById("TWM2-map"),n);new google.maps.Marker({position:e,map:t})}}();